<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Durak QQ</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="cards">
  <img src="ace-hearts.png.jpg" class="card" alt="ace hearts">
  <img src="ace-spades.png.jpg" class="card" alt="ace spades">
  <img src="ace-diamonds.png.jpg" class="card" alt="ace diamonds">
  <img src="ace-clubs.png.jpg" class="card" alt="ace clubs">
</div>
  <div class="overlay"></div>

  <!-- –°–∞–ª–±—ã—Ä–∞–ø —Ç“±—Ä“ì–∞–Ω –∫–∞—Ä—Ç–∞–ª–∞—Ä -->
  <div class="cards">
    <img src="ace-hearts.png.jpg" class="card card1" alt="Ace of Hearts">
    <img src="ace-spades.png.jpg" class="card card2" alt="Ace of Spades">
    <img src="ace-diamonds.png.jpg" class="card card3" alt="Ace of Diamonds">
    <img src="ace-clubs.png.jpg" class="card card4" alt="Ace of Clubs">
  </div>

  <!-- –ë–∞—Å—Ç—ã –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <div class="container">
    <div class="title">
      <span class="emoji">üÉè</span>
      <h1>Durak QQ</h1>
      <p class="subtitle">–û–π—ã–Ω —Ç“Ø—Ä—ñ–Ω —Ç–∞“£–¥–∞“£—ã–∑</p>
    </div>

    <div class="buttons">
      <button id="online">üåê –û–Ω–ª–∞–π–Ω –æ–π–Ω–∞—É</button>
      <button id="solo">üßç‚Äç‚ôÇÔ∏è –ñ–∞–ª“ì—ã–∑ –æ–π–Ω–∞—É</button>
    </div>
  </div>

  <script>
    document.getElementById('online').onclick = () => alert('–û–Ω–ª–∞–π–Ω –æ–π–Ω–∞—É - –∂–∞“õ—ã–Ω–¥–∞ “õ–æ—Å—ã–ª–∞–¥—ã!');
    document.getElementById('solo').onclick = () => window.location.href = 'game.html';
  </script>
</body>
</html>
<!-- –†–æ–±–æ—Ç –∏–∫–æ–Ω–∫–∞—Å—ã (emoji) -->
<div id="chat-bot" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  font-size: 40px;
  cursor: pointer;
  z-index: 1000;
  display:flex;
  align-items:center;
  justify-content:center;
">
  ‚ö°ü§ñ
</div>

<!-- –ß–∞—Ç —Ç–µ—Ä–µ–∑–µ—Å—ñ -->
<div id="chat-window" style="
  display: none;
  position: fixed;
  bottom: 90px;
  right: 20px;
  width: 300px;
  height: 400px;
  border: 1px solid #ccc;
  background: white;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  z-index: 1000;
  border-radius: 10px;
  overflow: hidden;
  flex-direction: column;
  display: flex;
">
  <div id="chat-header" style="background:#4CAF50;color:white;padding:10px;font-weight:bold;">
    AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç
  </div>
  <div id="chat-messages" style="flex:1;padding:10px;overflow-y:auto;">
    <div style="font-size:14px;color:#333;">–°”ô–ª–µ–º ‚úãüèª! –ú–µ–Ω AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–ø—ñ–Ω. –°“±—Ä–∞“õ “õ–æ–π—Å–∞“£—ã–∑, –∂–∞—É–∞–ø –±–µ—Ä–µ–º—ñ–Ω.</div>
  </div>
  <div style="padding:5px;border-top:1px solid #ccc; display:flex;">
    <input id="chat-input" type="text" placeholder="–°“±—Ä–∞“õ “õ–æ–π—ã“£—ã–∑..." style="flex:1;padding:5px;">
    <button onclick="sendMessage()" style="padding:5px;">–ñ—ñ–±–µ—Ä—É</button>
  </div>
</div>

<script>
const botIcon = document.getElementById('chat-bot');
const chatWindow = document.getElementById('chat-window');

botIcon.onclick = () => {
  chatWindow.style.display = chatWindow.style.display === 'none' ? 'flex' : 'none';
};

async function sendMessage() {
  const input = document.getElementById('chat-input');
  const message = input.value.trim();
  if(!message) return;

  const chatMessages = document.getElementById('chat-messages');

  // –ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã —Ö–∞–±–∞—Ä—ã
  const userMsg = document.createElement('div');
  userMsg.style.textAlign = 'right';
  userMsg.style.margin = '5px 0';
  userMsg.innerHTML = `<b>–°—ñ–∑:</b> ${message}`;
  chatMessages.appendChild(userMsg);
  chatMessages.scrollTop = chatMessages.scrollHeight;

  input.value = '';

  // n8n Webhook —Å“±—Ä–∞—É
  try {
    const res = await fetch('https://your-n8n-url.onrender.com/webhook/ai-assistant', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({question: message})
    });
    const data = await res.json();

    const botMsg = document.createElement('div');
    botMsg.style.textAlign = 'left';
    botMsg.style.margin = '5px 0';
    botMsg.innerHTML = `<b>–ë–æ—Ç:</b> ${data.answer}`;
    chatMessages.appendChild(botMsg);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  } catch(err) {
    const botMsg = document.createElement('div');
    botMsg.style.textAlign = 'left';
    botMsg.style.color = 'red';
    botMsg.innerHTML = `<b>–ë–æ—Ç:</b> “ö–∞—Ç–µ –±–æ–ª–¥—ã, “õ–∞–π—Ç–∞ —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑.`;
    chatMessages.appendChild(botMsg);
  }
}
</script>
